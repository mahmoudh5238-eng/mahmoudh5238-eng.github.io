<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø¯Ù…Ø¬ Ù…Ù„ÙØ§Øª PDF | PDF Merger</title>
    <script src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js"></script>
    <style>
      body {
        font-family: "Cairo", sans-serif;
        text-align: center;
        margin: 80px auto;
        background: #f8f9fa;
        color: #333;
      }
      h1 {
        color: #d32f2f;
      }
      .upload-box {
        border: 2px dashed #d32f2f;
        padding: 30px;
        margin: 30px auto;
        width: 90%;
        max-width: 400px;
        background: white;
        border-radius: 20px;
      }
      input[type="file"] {
        margin-top: 10px;
      }
      button {
        background: #d32f2f;
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 10px;
        cursor: pointer;
        margin-top: 20px;
        font-size: 16px;
      }
      button:hover {
        background: #b71c1c;
      }
    </style>
  </head>
  <body>
    <h1>ğŸ§© Ø¯Ù…Ø¬ Ù…Ù„ÙØ§Øª PDF Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</h1>
    <p>Ø§Ø±ÙØ¹ Ø£ÙƒØªØ± Ù…Ù† Ù…Ù„Ù PDF ÙˆÙ‡Ù†Ø¬Ù…Ø¹Ù‡Ù… ÙÙŠ Ù…Ù„Ù ÙˆØ§Ø­Ø¯.</p>

    <div class="upload-box">
      <input type="file" id="pdfFiles" accept="application/pdf" multiple />
      <br />
      <button onclick="mergePDFs()">Ø¯Ù…Ø¬ Ø§Ù„Ù…Ù„ÙØ§Øª</button>
    </div>

    <script>
      async function mergePDFs() {
        const { PDFDocument } = PDFLib;
        const files = document.getElementById("pdfFiles").files;
        if (files.length < 2) {
          alert("Ø§Ø®ØªØ§Ø± Ù…Ù„ÙÙŠÙ† PDF Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„!");
          return;
        }

        const mergedPdf = await PDFDocument.create();

        for (let file of files) {
          const arrayBuffer = await file.arrayBuffer();
          const pdf = await PDFDocument.load(arrayBuffer);
          const copiedPages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
          copiedPages.forEach((page) => mergedPdf.addPage(page));
        }

        const mergedPdfBytes = await mergedPdf.save();
        const blob = new Blob([mergedPdfBytes], { type: "application/pdf" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "merged.pdf";
        link.click();
      }
    </script>
  </body>
</html>
